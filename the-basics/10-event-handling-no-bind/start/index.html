<html>

<head>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>
  <div id="root"></div>
</body>
<script type="text/babel">
  /****************************************************
    SUMMARY:
    The goal of this module is to make the code work without using bind and without arrow function definitions.
    Then, we'll learn why we probably shouldn't do that.
    To quote the React docs, 
      "if this callback is passed as a prop to lower components, 
      those components might do an extra re-rendering. We generally 
      recommend binding in the constructor or using the class fields syntax, 
      to avoid this sort of performance problem."
    - https://reactjs.org/docs/handling-events.html
    
    TODO:
    - use arrow functions in the callback in order to make the app work
  *****************************************************/

  class App extends React.Component {
    constructor(props) {
      super(props);
      this.state = { inputValue: '', labelValue: '' };
    }

    handleSubmit(e) {
      this.setState({ labelValue: this.state.inputValue })
    }

    handleInputChange(e) {
      this.setState({ inputValue: e.target.value })
    }

    render() {
      return (
        <div>
          <input type="text" name='test' onChange={this.handleInputChange} value={this.state.inputValue} />
          <button type="submit" onClick={this.handleSubmit}>Submit</button>
          <label style={{ marginLeft: '20px' }}>{this.state.labelValue}</label>
        </div>
      )
    }
  }
  ReactDOM.render(<App />, root);
</script>

</html>