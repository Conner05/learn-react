<html>

<head>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>
  <div id="root"></div>
</body>
<script type="text/babel">
  /****************************************************
    SUMMARY:
    This module is all about scope. We're gonna learn how to properly handle scope with event handlers
    In the previous module we made the functions arrow functions. Arrow functions automatically bind
    'this' to the scope of the method. Regular functions do not do that. In order to access 'this' inside
    regular functions you need to 'bind' 'this' to the function.
    - https://reactjs.org/docs/handling-events.html
    
    TODO:
    - add binding for the functions below so the code works again
  *****************************************************/

  class App extends React.Component {
    constructor(props) {
      super(props);
      this.state = { inputValue: '', labelValue: '' };
    }

    handleSubmit(e) {
      this.setState({ labelValue: this.state.inputValue })
    }

    handleInputChange(e) {
      this.setState({ inputValue: e.target.value })
    }

    render() {
      return (
        <div>
          <input type="text" name='test' onChange={this.handleInputChange} value={this.state.inputValue} />
          <button type="submit" onClick={this.handleSubmit}>Submit</button>
          <label style={{ marginLeft: '20px' }}>{this.state.labelValue}</label>
        </div>
      )
    }
  }
  ReactDOM.render(<App />, root);
</script>

</html>